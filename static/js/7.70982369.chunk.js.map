{"version":3,"sources":["pages/Main/Components/User/User.js","pages/Main/Components/Users/Users.js"],"names":["User","props","state","userImg","user","photo","userAgent","detect","parse","navigator","isWindows","test","os","family","isFirefox","browser","Blazy","className","src","avatarPlaceholder","data-src","this","alt","title","name","position","Tooltip","email","placement","phone","React","Component","Users","nextPage","usersPerPage","users","fullUsersList","isLoading","isNeedToFix","correctUsersPerPageChecker","document","body","clientWidth","setState","getUsers","page","window","addEventListener","contentText","usersJSX","map","index","key","subtitle","onClick","Button","variant","disabled","buttonShowMore"],"mappings":"gTAQqBA,E,YACjB,WAAYC,GAAQ,IAAD,uBACf,4CAAMA,KAEDC,MAAQ,CACTC,QAAS,EAAKF,MAAMG,KAAKC,OAG7B,IAAMC,EAAYC,IAAOC,MAAMC,UAAUH,WAP1B,OAQf,EAAKI,UAAY,WAAWC,KAAKL,EAAUM,GAAGC,QAC9C,EAAKC,UAAY,WAAWH,KAAKL,EAAUS,QAAQF,QAEnD,EAAKT,KAAO,EAAKH,MAAMG,KAXR,E,sEAeH,IAAIY,IAChB,OACI,yBAAKC,UAAU,QACX,yBAAKA,UAAU,qBAAqBC,IAAKC,IAAmBC,WAAUC,KAAKjB,KAAKC,MAAOiB,IAAI,SAC3F,yBAAKL,UAAU,cACX,yBACIA,UAAS,yBAAoBI,KAAKX,WAAaW,KAAKP,UAAY,uBAAyB,IACzFS,MAAOF,KAAKjB,KAAKoB,MACnBH,KAAKjB,KAAKoB,MACZ,yBAAKP,UAAU,uBAAuBI,KAAKjB,KAAKqB,UAChD,kBAACC,EAAA,EAAD,CAASH,MAAOF,KAAKjB,KAAKuB,MAAOC,UAAU,UACvC,uBAAGX,UAAU,oBAAoBI,KAAKjB,KAAKuB,QAE/C,yBAAKV,UAAU,oBAAoBI,KAAKjB,KAAKyB,a,GA7B/BC,IAAMC,W,qECCnBC,E,YACjB,WAAY/B,GAAQ,IAAD,sBACf,4CAAMA,IAGN,EAAKC,MAAQ,CACT+B,SAAU,EACVC,aAAc,EACdC,MAAO,GACPC,eAAe,EACfC,WAAW,GAGf,IAAM/B,EAAYC,IAAOC,MAAMC,UAAUH,WAZ1B,OAaf,EAAKgC,YAAc,mBAAmB3B,KAAKL,EAAUM,GAAGC,QACxD,EAAKC,UAAY,WAAWH,KAAKL,EAAUS,QAAQF,QAEnD,EAAK0B,2BAA6B,WAC9B,OAAIC,SAASC,KAAKC,YAfA,KAgBd,EAAKC,SAAS,CACVT,aAAc,IAEX,IAGX,EAAKS,SAAS,CACVT,aAAc,IAEX,IAGX,EAAKU,SAAW,SAACC,EAAMX,GAChB,EAAKhC,MAAMkC,eAAiB,EAAKlC,MAAMmC,YAC1C,EAAKM,SAAS,CAAEN,WAAW,IAgB3B,EAAKM,SAAS,CAAEN,WAAW,MAhDhB,E,iFAqDf,IAAMH,EAAeb,KAAKkB,6BAC1BlB,KAAKuB,SAASvB,KAAKnB,MAAM+B,SAAUC,GAEnCY,OAAOC,iBAAiB,SAAU1B,KAAKkB,8B,+BAGjC,IAAD,OACCS,EAAc3B,KAAKpB,MAAM+C,YACzBC,EAAW5B,KAAKnB,MAAMiC,MAAMe,KAAI,SAAC9C,EAAM+C,GACzC,OAAO,kBAAC,EAAD,CAAMC,IAAKD,EAAO/C,KAAMA,OAGnC,OACI,6BAASa,UAAU,SACf,yBAAKA,UAAU,oBACX,wBAAIA,UAAS,+BAA0BI,KAAKiB,aAAejB,KAAKP,UAAY,eAAiB,KAAOkC,EAAYzB,OAChH,wBAAIN,UAAU,4BAA4B+B,EAAYK,UACtD,yBAAKpC,UAAU,eACVgC,GAEL,yBAAKK,QAAS,kBAAM,EAAKV,SAAS,EAAK1C,MAAM+B,SAAU,EAAK/B,MAAMgC,eAAejB,UAAU,kCACvF,kBAACsC,EAAA,EAAD,CACIC,QAAQ,YACRvC,UAAS,2CAAsCI,KAAKnB,MAAMkC,eAAiBf,KAAKnB,MAAMmC,UAAY,YAAc,IAChHoB,SAAUpC,KAAKnB,MAAMkC,eAEpBY,EAAYU,uB,GAhFN5B,IAAMC","file":"static/js/7.70982369.chunk.js","sourcesContent":["import React from \"react\";\n\nimport './User.scss';\nimport avatarPlaceholder from '../../../../Shared/images/avatarPlaceholder.png';\nimport detect from \"detect.js\";\nimport Blazy from 'blazy/blazy';\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nexport default class User extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            userImg: this.props.user.photo,\n        };\n\n        const userAgent = detect.parse(navigator.userAgent);\n        this.isWindows = /Windows/i.test(userAgent.os.family);\n        this.isFirefox = /Firefox/i.test(userAgent.browser.family);\n\n        this.user = this.props.user;\n    }\n\n    render() {\n        let bLazy = new Blazy();\n        return (\n            <div className=\"user\">\n                <img className=\"user__photo b-lazy\" src={avatarPlaceholder} data-src={this.user.photo} alt=\"user\"/>\n                <div className=\"user__info\">\n                    <div\n                        className={`user__info-name${this.isWindows || this.isFirefox ? ' overpassFixUserName' : ''}`}\n                        title={this.user.name}\n                    >{this.user.name}</div>\n                    <div className=\"user__info-position\">{this.user.position}</div>\n                    <Tooltip title={this.user.email} placement=\"bottom\">\n                        <p className=\"user__info-email\">{this.user.email}</p>\n                    </Tooltip>\n                    <div className=\"user__info-phone\">{this.user.phone}</div>\n                </div>\n\n            </div>\n        )\n    }\n}","import React from 'react';\nimport Axios from \"axios\";\nimport User from \"../User/User\";\n\nimport './Users.scss';\nimport '../../../../Shared/Scss/buttons.scss';\nimport Button from \"@material-ui/core/Button\";\nimport detect from \"detect.js\";\n\nexport default class Users extends React.Component {\n    constructor(props) {\n        super(props);\n        const maxMobileSize = 755;\n\n        this.state = {\n            nextPage: 1,\n            usersPerPage: 6,\n            users: [],\n            fullUsersList: false,\n            isLoading: false\n        };\n\n        const userAgent = detect.parse(navigator.userAgent);\n        this.isNeedToFix = /Windows|Android/i.test(userAgent.os.family);\n        this.isFirefox = /Firefox/i.test(userAgent.browser.family);\n\n        this.correctUsersPerPageChecker = () => {\n            if (document.body.clientWidth > maxMobileSize) {\n                this.setState({\n                    usersPerPage: 6,\n                });\n                return 6;\n            };\n\n            this.setState({\n                usersPerPage: 3,\n            });\n            return 3;\n        };\n\n        this.getUsers = (page, usersPerPage) => {\n            if(this.state.fullUsersList || this.state.isLoading) return;\n            this.setState({ isLoading: true });\n\n            // Axios.get(`https://frontend-test-assignment-api.abz.agency/api/v1/users?page=${page}&count=${usersPerPage}`).then(res => {\n            //     const newUsers = res.data.users;\n            //     const fullUsersList = res.data.page >= res.data.total_pages;\n            //     this.setState((state) => {\n            //         const users = state.users.concat(newUsers);\n            //\n            //         return {\n            //             fullUsersList: fullUsersList,\n            //             nextPage: ++state.nextPage,\n            //             users: users,\n            //         }\n            //     });\n            // });\n\n            this.setState({ isLoading: false });\n        };\n    }\n\n    componentDidMount() {\n        const usersPerPage = this.correctUsersPerPageChecker();\n        this.getUsers(this.state.nextPage, usersPerPage);\n\n        window.addEventListener(\"resize\", this.correctUsersPerPageChecker);\n    }\n\n    render() {\n        const contentText = this.props.contentText;\n        const usersJSX = this.state.users.map((user, index) => {\n            return <User key={index} user={user} />\n        });\n\n        return (\n            <section className=\"users\">\n                <div className=\"users__container\">\n                    <h2 className={`users__title heading2${this.isNeedToFix || this.isFirefox ? ' overpassFix' : ''}`}>{contentText.title}</h2>\n                    <h5 className=\"users__subtitle heading5\">{contentText.subtitle}</h5>\n                    <div className=\"users__list\">\n                        {usersJSX}\n                    </div>\n                    <div onClick={() => this.getUsers(this.state.nextPage, this.state.usersPerPage)} className=\"users__button-show-more button\">\n                        <Button\n                            variant=\"contained\"\n                            className={`button-item button-item_secondary${this.state.fullUsersList || this.state.isLoading ? ' disabled' : ''}`}\n                            disabled={this.state.fullUsersList}\n                        >\n                            {contentText.buttonShowMore}\n                        </Button>\n                    </div>\n                </div>\n            </section>\n        )\n    }\n}"],"sourceRoot":""}
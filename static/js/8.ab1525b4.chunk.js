(this.webpackJsonptask2=this.webpackJsonptask2||[]).push([[8],{190:function(e,t,s){},191:function(e,t,s){var n,i;void 0===(i="function"===typeof(n=function(){"use strict";var e,t,s,n,i="src",o="srcset";return function(i){if(!document.querySelectorAll){var o=document.createStyleSheet();document.querySelectorAll=function(e,t,s,n,i){for(i=document.all,t=[],s=(e=e.replace(/\[for\b/gi,"[htmlFor").split(",")).length;s--;){for(o.addRule(e[s],"k:v"),n=i.length;n--;)i[n].currentStyle.k&&t.push(i[n]);o.removeRule(0)}return t}}var c=this,u=c._util={};u.elements=[],u.destroyed=!0,c.options=i||{},c.options.error=c.options.error||!1,c.options.offset=c.options.offset||100,c.options.root=c.options.root||document,c.options.success=c.options.success||!1,c.options.selector=c.options.selector||".b-lazy",c.options.separator=c.options.separator||"|",c.options.containerClass=c.options.container,c.options.container=!!c.options.containerClass&&document.querySelectorAll(c.options.containerClass),c.options.errorClass=c.options.errorClass||"b-error",c.options.breakpoints=c.options.breakpoints||!1,c.options.loadInvisible=c.options.loadInvisible||!1,c.options.successClass=c.options.successClass||"b-loaded",c.options.validateDelay=c.options.validateDelay||25,c.options.saveViewportOffsetDelay=c.options.saveViewportOffsetDelay||50,c.options.srcset=c.options.srcset||"data-srcset",c.options.src=e=c.options.src||"data-src",n=Element.prototype.closest,s=window.devicePixelRatio>1,(t={}).top=0-c.options.offset,t.left=0-c.options.offset,c.revalidate=function(){a(c)},c.load=function(e,t){var s=this.options;e&&void 0===e.length?l(e,t,s):C(e,(function(e){l(e,t,s)}))},c.destroy=function(){var e=c._util;c.options.container&&C(c.options.container,(function(t){x(t,"scroll",e.validateT)})),x(window,"scroll",e.validateT),x(window,"resize",e.validateT),x(window,"resize",e.saveViewportOffsetT),e.count=0,e.elements.length=0,e.destroyed=!0},u.validateT=L((function(){r(c)}),c.options.validateDelay,c),u.saveViewportOffsetT=L((function(){w(c.options.offset)}),c.options.saveViewportOffsetDelay,c),w(c.options.offset),C(c.options.breakpoints,(function(t){if(t.width>=window.screen.width)return e=t.src,!1})),setTimeout((function(){a(c)}))};function a(e){var t=e._util;t.elements=function(e){for(var t=[],s=e.root.querySelectorAll(e.selector),n=s.length;n--;t.unshift(s[n]));return t}(e.options),t.count=t.elements.length,t.destroyed&&(t.destroyed=!1,e.options.container&&C(e.options.container,(function(e){E(e,"scroll",t.validateT)})),E(window,"resize",t.saveViewportOffsetT),E(window,"resize",t.validateT),E(window,"scroll",t.validateT)),r(e)}function r(e){for(var t=e._util,s=0;s<t.count;s++){var n=t.elements[s];(c(n,e.options)||b(n,e.options.successClass))&&(e.load(n),t.elements.splice(s,1),t.count--,s--)}0===t.count&&e.destroy()}function c(e,s){var i=e.getBoundingClientRect();if(s.container&&n){var o=e.closest(s.containerClass);if(o){var a=o.getBoundingClientRect();if(u(a,t)){var r=a.top-s.offset,c=a.right+s.offset,l=a.bottom+s.offset,p=a.left-s.offset;return u(i,{top:r>t.top?r:t.top,right:c<t.right?c:t.right,bottom:l<t.bottom?l:t.bottom,left:p>t.left?p:t.left})}return!1}}return u(i,t)}function u(e,t){return e.right>=t.left&&e.bottom>=t.top&&e.left<=t.right&&e.top<=t.bottom}function l(t,n,a){if(!b(t,a.successClass)&&(n||a.loadInvisible||t.offsetWidth>0&&t.offsetHeight>0)){var r=h(t,e)||h(t,a.src);if(r){var c=r.split(a.separator),u=c[s&&c.length>1?1:0],l=h(t,a.srcset),m=g(t,"img"),v=t.parentNode,w=v&&g(v,"picture");if(m||void 0===t.src){var L=new Image,N=function e(){a.error&&a.error(t,"invalid"),y(t,a.errorClass),x(L,"error",e),x(L,"load",_)},_=function e(){m?w||f(t,u,l):t.style.backgroundImage='url("'+u+'")',p(t,a),x(L,"load",e),x(L,"error",N)};w&&(L=t,C(v.getElementsByTagName("source"),(function(e){d(e,o,a.srcset)}))),E(L,"error",N),E(L,"load",_),f(L,u,l)}else t.src=u,p(t,a)}else g(t,"video")?(C(t.getElementsByTagName("source"),(function(e){d(e,i,a.src)})),t.load(),p(t,a)):(a.error&&a.error(t,"missing"),y(t,a.errorClass))}}function p(e,t){y(e,t.successClass),t.success&&t.success(e),v(e,t.src),v(e,t.srcset),C(t.breakpoints,(function(t){v(e,t.src)}))}function d(e,t,s){var n=h(e,s);n&&(m(e,t,n),v(e,s))}function f(e,t,s){s&&m(e,o,s),e.src=t}function m(e,t,s){e.setAttribute(t,s)}function h(e,t){return e.getAttribute(t)}function v(e,t){e.removeAttribute(t)}function g(e,t){return e.nodeName.toLowerCase()===t}function b(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function y(e,t){b(e,t)||(e.className+=" "+t)}function w(e){t.bottom=(window.innerHeight||document.documentElement.clientHeight)+e,t.right=(window.innerWidth||document.documentElement.clientWidth)+e}function E(e,t,s){e.attachEvent?e.attachEvent&&e.attachEvent("on"+t,s):e.addEventListener(t,s,{capture:!1,passive:!0})}function x(e,t,s){e.detachEvent?e.detachEvent&&e.detachEvent("on"+t,s):e.removeEventListener(t,s,{capture:!1,passive:!0})}function C(e,t){if(e&&t)for(var s=e.length,n=0;n<s&&!1!==t(e[n],n);n++);}function L(e,t,s){var n=0;return function(){var i=+new Date;i-n<t||(n=i,e.apply(s,arguments))}}})?n.call(t,s,t,e):n)||(e.exports=i)},192:function(e,t,s){},193:function(e,t,s){},230:function(e,t,s){"use strict";s.r(t);var n=s(5),i=s(3),o=s(6),a=s(7),r=s(8),c=s(0),u=s.n(c),l=s(46),p=s.n(l),d=(s(190),s(44)),f=s.n(d),m=s(27),h=s.n(m),v=(s(191),s(232)),g=function(e){function t(e){var s;Object(n.a)(this,t),(s=Object(o.a)(this,Object(a.a)(t).call(this,e))).state={userImg:f.a,emailIsLong:!1,user:s.props.user};var i=h.a.parse(navigator.userAgent);return s.isWindows=/Windows/i.test(i.os.family),s.isFirefox=/Firefox/i.test(i.browser.family),s}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){"placeholder"!==this.props.user&&this.userLoaded()}},{key:"componentWillReceiveProps",value:function(e,t){"placeholder"!==e.user&&this.setState({user:e.user},this.userLoaded)}},{key:"userLoaded",value:function(){var e=this,t=new Image;t.src=this.state.user.photo,t.onload=function(){e.setState({userImg:t.src})};var s=document.querySelector(".user.user".concat(this.props.idx," .user__info-email"));s.scrollWidth<=209||(this.setState({emailIsLong:!0}),s.style.cursor="pointer")}},{key:"render",value:function(){return u.a.createElement("div",{className:"user user".concat(this.props.idx)},u.a.createElement("img",{className:"user__photo",src:this.state.userImg,alt:"user"}),u.a.createElement("div",{className:"user__info"},u.a.createElement("div",{className:"user__info-name".concat(this.isWindows||this.isFirefox?" overpassFixUserName":"").concat("placeholder"===this.props.user?" hide":""),title:this.state.user.name},this.state.user.name),u.a.createElement("div",{className:"user__info-position".concat("placeholder"===this.props.user?" hide":"")},this.state.user.position),u.a.createElement(v.a,{title:this.state.user.email,placement:"bottom",disableFocusListener:!this.state.emailIsLong,disableHoverListener:!this.state.emailIsLong,disableTouchListener:!this.state.emailIsLong},u.a.createElement("p",{className:"user__info-email"},this.state.user.email)),u.a.createElement("div",{className:"user__info-phone"},this.state.user.phone)))}}]),t}(u.a.Component),b=(s(192),s(59),s(125)),y=(s(193),function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"loader loader--style8"},u.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"24px",height:"30px",viewBox:"0 0 24 30",xmlSpace:"preserve"},u.a.createElement("rect",{x:"0",y:"10",width:"4",height:"10",fill:"#333",opacity:"0.2"},u.a.createElement("animate",{attributeName:"opacity",attributeType:"XML",values:"0.2; 1; .2",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}),u.a.createElement("animate",{attributeName:"height",attributeType:"XML",values:"10; 20; 10",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}),u.a.createElement("animate",{attributeName:"y",attributeType:"XML",values:"10; 5; 10",begin:"0s",dur:"0.6s",repeatCount:"indefinite"})),u.a.createElement("rect",{x:"8",y:"10",width:"4",height:"10",fill:"#333",opacity:"0.2"},u.a.createElement("animate",{attributeName:"opacity",attributeType:"XML",values:"0.2; 1; .2",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}),u.a.createElement("animate",{attributeName:"height",attributeType:"XML",values:"10; 20; 10",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}),u.a.createElement("animate",{attributeName:"y",attributeType:"XML",values:"10; 5; 10",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"})),u.a.createElement("rect",{x:"16",y:"10",width:"4",height:"10",fill:"#333",opacity:"0.2"},u.a.createElement("animate",{attributeName:"opacity",attributeType:"XML",values:"0.2; 1; .2",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}),u.a.createElement("animate",{attributeName:"height",attributeType:"XML",values:"10; 20; 10",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}),u.a.createElement("animate",{attributeName:"y",attributeType:"XML",values:"10; 5; 10",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}))))}}]),t}(u.a.Component));s.d(t,"default",(function(){return w}));var w=function(e){function t(e){var s;Object(n.a)(this,t),s=Object(o.a)(this,Object(a.a)(t).call(this,e));s.state={nextPage:1,usersPerPage:6,users:[],fullUsersList:!1,isLoading:!1,longRequest:!1,requestIsFail:!1,buttonShowMoreContent:s.props.contentText.buttonShowMore};var i=h.a.parse(navigator.userAgent);return s.isNeedToFix=/Windows|Android/i.test(i.os.family),s.isFirefox=/Firefox/i.test(i.browser.family),s.correctUsersPerPageChecker=function(){return document.body.clientWidth>755?6:3},s.getUsers=function(e,t){s.state.fullUsersList||s.state.isLoading||(s.setState({isLoading:!0}),p.a.get("https://frontend-test-assignment-api.abz.agency/api/v1/users?page=".concat(e,"&count=").concat(t)).then((function(e){var t=e.data.users,n=e.data.page>=e.data.total_pages;s.setState((function(e){var s=e.users.concat(t);return{fullUsersList:n,nextPage:++e.nextPage,users:s,isLoading:!1,longRequest:!1}}))})).catch((function(){s.setState({requestIsFail:!0})})))},s}return Object(r.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.correctUsersPerPageChecker();this.getUsers(this.state.nextPage,e)}},{key:"render",value:function(){var e=this,t=this.props.contentText,s=null;if(this.state.users.length>0)s=this.state.users.map((function(e,t){return u.a.createElement(g,{key:t,idx:t,user:e})}));else{s=[];for(var n=0;n<this.correctUsersPerPageChecker();n++)s.push(u.a.createElement(g,{key:n,idx:n,user:"placeholder"}))}return u.a.createElement("section",{className:"users".concat(this.state.requestIsFail?" requestIsFail":"")},u.a.createElement("div",{className:"users__container"},u.a.createElement("h2",{className:"users__title heading2".concat(this.isNeedToFix||this.isFirefox?" overpassFix":"")},t.title),u.a.createElement("h5",{className:"users__subtitle heading5"},t.subtitle),u.a.createElement("div",{className:"users__list"},s),u.a.createElement("div",{onClick:function(){e.getUsers(e.state.nextPage,e.correctUsersPerPageChecker()),setTimeout((function(){e.state.isLoading&&e.setState({longRequest:!0})}),300)},className:"users__button-show-more button"},u.a.createElement(b.a,{variant:"contained",className:"button-item button-item_secondary".concat(this.state.fullUsersList||this.state.isLoading?" disabled":""),disabled:this.state.fullUsersList},this.state.longRequest?u.a.createElement(y,null):t.buttonShowMore))))}}]),t}(u.a.Component)}}]);
//# sourceMappingURL=8.ab1525b4.chunk.js.map
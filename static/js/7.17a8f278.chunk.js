(this.webpackJsonptask2=this.webpackJsonptask2||[]).push([[7],{207:function(e,t,s){},224:function(e,t,s){},225:function(e,t,s){},233:function(e,t,s){"use strict";s.r(t);var a=s(24),r=s(13),n=s(28),i=s(29),o=s(30),c=s(0),u=s.n(c),l=s(70),m=s.n(l),h=(s(224),s(80)),d=s.n(h),f=s(45),g=s.n(f),p=s(79),v=s.n(p),b=s(204),_=function(e){function t(e){var s;Object(a.a)(this,t),(s=Object(n.a)(this,Object(i.a)(t).call(this,e))).state={userImg:s.props.user.photo};var r=g.a.parse(navigator.userAgent);return s.isWindows=/Windows/i.test(r.os.family),s.isFirefox=/Firefox/i.test(r.browser.family),s.user=s.props.user,s}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){new v.a;return u.a.createElement("div",{className:"user"},u.a.createElement("img",{className:"user__photo b-lazy",src:d.a,"data-src":this.user.photo,alt:"user"}),u.a.createElement("div",{className:"user__info"},u.a.createElement("div",{className:"user__info-name".concat(this.isWindows||this.isFirefox?" overpassFixUserName":""),title:this.user.name},this.user.name),u.a.createElement("div",{className:"user__info-position"},this.user.position),u.a.createElement(b.a,{title:this.user.email,placement:"bottom"},u.a.createElement("p",{className:"user__info-email"},this.user.email)),u.a.createElement("div",{className:"user__info-phone"},this.user.phone)))}}]),t}(u.a.Component),P=(s(225),s(207),s(199));s.d(t,"default",(function(){return E}));var E=function(e){function t(e){var s;Object(a.a)(this,t),s=Object(n.a)(this,Object(i.a)(t).call(this,e));s.state={nextPage:1,usersPerPage:6,users:[],fullUsersList:!1,isLoading:!1};var r=g.a.parse(navigator.userAgent);return s.isNeedToFix=/Windows|Android/i.test(r.os.family),s.isFirefox=/Firefox/i.test(r.browser.family),s.correctUsersPerPageChecker=function(){return document.body.clientWidth>755?(s.setState({usersPerPage:6}),6):(s.setState({usersPerPage:3}),3)},s.getUsers=function(e,t){s.state.fullUsersList||s.state.isLoading||(s.setState({isLoading:!0}),m.a.get("https://frontend-test-assignment-api.abz.agency/api/v1/users?page=".concat(e,"&count=").concat(t)).then((function(e){var t=e.data.users,a=e.data.page>=e.data.total_pages;s.setState((function(e){var s=e.users.concat(t);return{fullUsersList:a,nextPage:++e.nextPage,users:s}}))})),s.setState({isLoading:!1}))},s}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.correctUsersPerPageChecker();this.getUsers(this.state.nextPage,e),window.addEventListener("resize",this.correctUsersPerPageChecker)}},{key:"render",value:function(){var e=this,t=this.props.contentText,s=this.state.users.map((function(e,t){return u.a.createElement(_,{key:t,user:e})}));return u.a.createElement("section",{className:"users"},u.a.createElement("div",{className:"users__container"},u.a.createElement("h2",{className:"users__title heading2".concat(this.isNeedToFix||this.isFirefox?" overpassFix":"")},t.title),u.a.createElement("h5",{className:"users__subtitle heading5"},t.subtitle),u.a.createElement("div",{className:"users__list"},s),u.a.createElement("div",{onClick:function(){return e.getUsers(e.state.nextPage,e.state.usersPerPage)},className:"users__button-show-more button"},u.a.createElement(P.a,{variant:"contained",className:"button-item button-item_secondary".concat(this.state.fullUsersList||this.state.isLoading?" disabled":""),disabled:this.state.fullUsersList},t.buttonShowMore))))}}]),t}(u.a.Component)}}]);
//# sourceMappingURL=7.17a8f278.chunk.js.map